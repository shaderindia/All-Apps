<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Passport Photo Maker</title>

<!-- Fonts & Icons -->
<link href="https://fonts.googleapis.com/css?family=Inter:400,600,700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

<!-- Cropper.js -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.css" />

<style>
body { font-family: 'Inter', sans-serif; margin:0; padding:0; background:#f0f2f5; }
header { padding:1rem; text-align:center; font-weight:700; font-size:1.5rem; color:#fff; background: #6366f1; }
main { max-width:1200px; margin:1rem auto; padding:0 1rem; display:flex; flex-direction:column; gap:1rem; }

.card { background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); border-radius:12px; padding:1rem; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }

#upload-area { border:2px dashed #6366f1; border-radius:12px; padding:2rem; text-align:center; cursor:pointer; transition:0.3s; }
#upload-area:hover { background: rgba(99,102,241,0.1); }

#editor-container { display:none; flex-direction:column; gap:0.5rem; margin-top:0.5rem; }
#image-to-crop { max-width:100%; display:block; margin:0 auto; border-radius:8px; }

.editor-toolbar { display:flex; flex-wrap:wrap; gap:0.5rem; margin-bottom:0.5rem; }
.editor-toolbar button, .editor-toolbar input[type=color] { padding:0.5rem 1rem; border:none; border-radius:6px; cursor:pointer; font-weight:600; }
.editor-toolbar button { background:#6366f1; color:#fff; transition:0.2s; }
.editor-toolbar button:hover { background:#4f46e5; }

.color-picker-wrapper { display:flex; align-items:center; }
input[type=color] { width:40px; height:40px; border:none; padding:0; cursor:pointer; border-radius:6px; }

.preview-panel canvas { width:100%; max-width:400px; margin:0 auto; display:block; border-radius:8px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }

.btn-main { background:#6366f1; color:#fff; border:none; padding:0.6rem 1rem; border-radius:6px; cursor:pointer; font-weight:600; margin-top:0.5rem; width:100%; }
.btn-main:hover { background:#4f46e5; }

@media(max-width:768px){
  .editor-toolbar { flex-direction: column; }
}
</style>
</head>
<body>

<header><i class="fa fa-passport"></i> Passport Photo Maker</header>

<main>
  <section class="card">
    <h2><i class="fa fa-image"></i> Upload & Edit</h2>
    <div id="upload-area">
      <i class="fa fa-cloud-upload-alt fa-2x"></i>
      <p>Click or Drag & Drop to Upload</p>
    </div>
    <input type="file" id="photo-upload" accept="image/*" hidden>

    <div id="editor-container">
      <div class="editor-toolbar">
        <button id="remove-bg-btn"><i class="fa fa-magic"></i> Remove BG</button>
        <button id="rotate-left"><i class="fa fa-undo"></i> Rotate Left</button>
        <button id="rotate-right"><i class="fa fa-redo"></i> Rotate Right</button>
        <button id="reset-crop"><i class="fa fa-sync"></i> Reset</button>
        <div class="color-picker-wrapper">
          <input type="color" id="bg-color-picker" value="#ffffff">
        </div>
      </div>
      <img id="image-to-crop" src="" alt="Upload Image">
    </div>
  </section>

  <section class="card preview-panel">
    <h2><i class="fa fa-eye"></i> Preview & Download</h2>
    <canvas id="output-canvas"></canvas>
    <button class="btn-main" id="download-btn"><i class="fa fa-download"></i> Download</button>
    <button class="btn-main" id="download-hq-btn"><i class="fa fa-star"></i> HQ Download</button>
  </section>
</main>

<!-- Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.js"></script>

<script>
// Paste your JS logic here (from the file you gave me)
document.addEventListener('DOMContentLoaded', function () {
  const els = {
    uploadArea: document.getElementById('upload-area'),
    photoUpload: document.getElementById('photo-upload'),
    editorContainer: document.getElementById('editor-container'),
    imageToCrop: document.getElementById('image-to-crop'),
    removeBgBtn: document.getElementById('remove-bg-btn'),
    bgColorPicker: document.getElementById('bg-color-picker'),
    rotateLeftBtn: document.getElementById('rotate-left'),
    rotateRightBtn: document.getElementById('rotate-right'),
    resetCropBtn: document.getElementById('reset-crop'),
    outputCanvas: document.getElementById('output-canvas'),
    downloadBtn: document.getElementById('download-btn'),
    downloadHQBtn: document.getElementById('download-hq-btn')
  };

  let cropper = null;
  let currentImageURL = null;

  els.uploadArea.addEventListener('click', () => els.photoUpload.click());
  els.photoUpload.addEventListener('change', (e) => {
    if (e.target.files && e.target.files[0]) {
      const file = e.target.files[0];
      const url = URL.createObjectURL(file);
      currentImageURL = url;
      els.imageToCrop.src = url;
      els.editorContainer.style.display = 'flex';

      if (cropper) cropper.destroy();
      cropper = new Cropper(els.imageToCrop, { aspectRatio: 35/45, viewMode:1, autoCropArea:0.8 });
    }
  });

  els.rotateLeftBtn.addEventListener('click', () => cropper && cropper.rotate(-90));
  els.rotateRightBtn.addEventListener('click', () => cropper && cropper.rotate(90));
  els.resetCropBtn.addEventListener('click', () => cropper && cropper.reset());

  els.bgColorPicker.addEventListener('input', (e) => renderCanvas());

  function renderCanvas() {
    if (!cropper) return;
    const canvas = els.outputCanvas;
    const ctx = canvas.getContext('2d');
    const croppedCanvas = cropper.getCroppedCanvas({ width:210, height:270, fillColor: els.bgColorPicker.value });
    canvas.width = croppedCanvas.width;
    canvas.height = croppedCanvas.height;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.drawImage(croppedCanvas, 0, 0);
  }

  els.downloadBtn.addEventListener('click', () => {
    if (!els.outputCanvas) return;
    const link = document.createElement('a');
    link.href = els.outputCanvas.toDataURL('image/jpeg');
    link.download = 'passport-photo.jpg';
    link.click();
  });

  els.downloadHQBtn.addEventListener('click', () => {
    if (!els.outputCanvas) return;
    const link = document.createElement('a');
    link.href = els.outputCanvas.toDataURL('image/png',1.0);
    link.download = 'passport-photo.png';
    link.click();
  });
});
</script>
</body>
</html>
