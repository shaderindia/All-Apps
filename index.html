<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7727546410030506"
      crossorigin="anonymous"></script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Optimization: Enhanced Title Tag -->
    <title>SHADER7.com | Free Web Tools & Apps by Nishikant Xalxo | Passport Photos, Salary Calculator, Resume Builder</title>
    
    <!-- SEO Optimization: Meta Description -->
    <meta name="description" content="Explore SHADER7.com, a collection of free, useful web tools created by Nishikant Xalxo. Find your Passport Photo Creator, Monthly Salary Calculator, Mechanical Engineer Resume Builder, and FairShare Expenses app, optimized for PC & mobile.">
    
    <!-- SEO Optimization: Canonical Tag -->
    <link rel="canonical" href="https://shader7.com/">
    
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* This is crucial for fixing the sticky header overlap for anchor links */
        html {
            scroll-behavior: smooth; 
            /* Dynamically set by JS based on navbar height, with a fallback */
            scroll-padding-top: var(--scroll-padding, 80px); 
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            color: #334155; /* Dark slate text */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        /* Adjusted container for better mobile padding and larger max-width on PC */
        .container {
            max-width: 1200px; /* Wider container for PC */
            margin: 0 auto;
            padding: 1rem; /* Smaller padding on mobile */
            flex-grow: 1;
        }
        @media (min-width: 768px) {
            .container {
                padding: 2rem; /* Restore larger padding on PC */
            }
        }

        /* Header styling */
        .header {
            background-image: linear-gradient(to right top, #6d28d9, #7c3aed, #8b5cf6, #9c6cff, #ac7eff); /* Vibrant gradient header */
            color: white;
            padding: 4rem 1rem; /* Adjust padding for mobile, including room for nav */
            text-align: center;
            border-bottom-left-radius: 2rem; /* More prominent curve */
            border-bottom-right-radius: 2rem;
            box-shadow: 0 15px 25px -5px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 10;
            /* Added subtle gradient animation */
            background-size: 200% 200%;
            animation: gradient-shift 15s ease infinite;
        }
        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @media (min-width: 768px) {
            .header {
                padding: 4rem 2rem; /* Restore PC padding */
            }
        }
        .header h1 {
            font-size: 2.5rem; /* Smaller on mobile */
            font-weight: 800; /* Extra bold */
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            padding-top: 2rem; /* Ensure content starts below the nav on mobile */
        }
        @media (min-width: 768px) {
            .header h1 {
                font-size: 3.5rem; /* Restore PC size */
                padding-top: 0; /* No extra padding needed on PC due to flex */
            }
        }
        .header p {
            font-size: 1rem; /* Smaller on mobile */
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.5; /* Improved line height for readability */
        }
        @media (min-width: 768px) {
            .header p {
                font-size: 1.25rem; /* Restore PC size */
            }
        }
        /* Style for Instagram link in header */
        .header .instagram-link {
            color: #d1d5db; /* Light gray for Instagram link */
            text-decoration: underline;
            font-weight: 600;
            margin-left: 0.5rem;
            transition: color 0.2s ease-in-out; /* Smooth transition for hover */
        }
        .header .instagram-link:hover {
            color: #e5e7eb; /* Even lighter on hover */
            text-decoration: none;
        }

        /* Navigation Bar */
        .navbar {
            background-color: #5b21b6; /* Deep violet for navbar */
            padding: 1rem; /* Unified padding for mobile */
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            border-radius: 0 0 1rem 1rem; /* Rounded bottom corners */
            flex-wrap: wrap; /* Allow items to wrap on smaller screens if too many */
            position: sticky; /* Make navbar stick to top */
            top: 0;
            z-index: 20; /* Ensure navbar stays on top */
            width: 100%; /* Full width */
        }
        .navbar a {
            color: white;
            font-weight: 600;
            padding: 0.5rem 1rem; /* Slightly smaller padding for mobile */
            border-radius: 0.75rem;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out; /* Added transform transition */
            text-decoration: none;
            margin: 0 0.25rem; /* Small margin between items */
        }
        .navbar a:hover {
            background-color: #7c3aed; /* Lighter violet on hover */
            transform: translateY(-2px); /* Slight lift on hover */
        }
        .navbar a:active { /* Added active state for click feedback */
            background-color: #6d28d9;
            transform: translateY(0);
        }
        /* Mobile specific nav adjustments */
        @media (max-width: 767px) {
            .navbar {
                flex-direction: column;
                padding: 1rem 0.5rem; /* Even smaller padding on very small screens */
            }
            .navbar a {
                width: calc(100% - 1rem); /* Full width with padding */
                text-align: center;
                margin-bottom: 0.5rem;
                margin-left: 0.5rem;
                margin-right: 0.5rem;
            }
            .navbar a:last-child {
                margin-bottom: 0;
            }
        }
        @media (min-width: 768px) {
            .navbar {
                padding: 1rem 2rem; /* Restore PC padding */
            }
            .navbar a {
                padding: 0.5rem 1.25rem; /* Restore PC padding */
                margin: 0 0.5rem; /* Restore PC margin */
            }
        }


        /* App Card Styling */
        .app-card {
            background-color: #ffffff;
            border-radius: 1.5rem; /* More rounded corners for cards */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Soft shadow */
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            cursor: default; /* Ensure default cursor on card itself */
        }
        .app-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 20px -5px rgba(0, 0, 0, 0.15), 0 6px 10px -3px rgba(0, 0, 0, 0.08);
        }
        .app-card h2 {
            color: #1e293b; /* Darker heading color */
            font-weight: 700; /* Extra bold title */
            margin-bottom: 0.75rem;
            font-size: 1.75rem; /* Text-2xl */
        }
        .app-card p {
            color: #475569; /* Darker gray for description */
            margin-bottom: 1.5rem;
            font-size: 1rem; /* Text-base */
            line-height: 1.6;
            flex-grow: 1; /* Allow description to take available height for uniform card height */
        }
        .btn-access {
            background-image: linear-gradient(to right, #6366f1, #8b5cf6); /* Gradient button */
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 9999px; /* Fully rounded pill button */
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            border: none;
            cursor: pointer; /* Change cursor to pointer for clickable element */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            text-decoration: none; /* Remove underline from links */
            display: inline-block; /* Allows padding and width */
        }
        .btn-access:hover {
            transform: translateY(-3px); /* Increased lift on hover */
            box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 8px -2px rgba(0, 0, 0, 0.1); /* More pronounced shadow */
        }
        .btn-access:active { /* Added active state for click feedback */
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Footer Styling */
        .footer {
            background-color: #1e293b; /* Dark slate background */
            color: #cbd5e1; /* Light gray text */
            padding: 2rem;
            text-align: center;
            border-top-left-radius: 1.5rem;
            border-top-right-radius: 1.5rem;
            margin-top: auto; /* Push footer to the bottom */
            box-shadow: 0 -10px 15px -3px rgba(0, 0, 0, 0.1), 0 -4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .footer .footer-links {
            display: flex; /* Use flexbox for horizontal alignment */
            justify-content: center; /* Center links */
            flex-wrap: wrap; /* Allow wrapping on small screens */
            margin-bottom: 0.75rem; /* Increased space below links */
        }
        .footer .footer-links a {
            color: #a78bfa; /* Lighter purple for links */
            text-decoration: none;
            font-weight: 500;
            margin: 0 1rem; /* Increased spacing for footer links */
            padding: 0.25rem 0; /* Add a little vertical padding for touch targets */
            transition: color 0.2s ease-in-out, text-decoration 0.2s ease-in-out; /* Smooth transition */
        }
        .footer .footer-links a:hover {
            color: #e0e7ff; /* Lighter color on hover */
            text-decoration: underline;
        }
        
        /* Removed .ads-container styles as it's no longer present */

        /* About Me Section */
        .about-me-section {
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            margin-top: 3rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .about-me-section h2 {
            font-size: 2.5rem; /* text-4xl on PC */
            font-weight: 800;
            color: #1e293b;
            margin-bottom: 1.5rem;
        }
        @media (max-width: 767px) {
            .about-me-section h2 {
                font-size: 2rem; /* Smaller on mobile */
            }
        }
        .about-me-section .profile-picture {
            border-radius: 9999px; /* Fully rounded */
            width: 150px;
            height: 150px;
            object-fit: cover;
            border: 4px solid #8b5cf6; /* Purple border */
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
        }
        .about-me-section p {
            color: #475569;
            font-size: 1.0rem; /* Base font size */
            line-height: 1.7;
            max-width: 700px;
            margin-bottom: 1.5rem;
        }
        @media (min-width: 768px) {
            .about-me-section p {
                font-size: 1.1rem; /* Slightly larger on PC */
            }
        }
        /* Styling for the new CONTACTS heading */
        .about-me-section .contact-heading {
            font-size: 1.25rem; /* text-xl */
            font-weight: 700;
            color: #334155;
            margin-top: 2rem; /* Space above CONTACTS */
            margin-bottom: 0.75rem; /* Space below CONTACTS */
            border-bottom: 2px solid #a78bfa; /* Underline for emphasis */
            padding-bottom: 0.25rem;
            display: inline-block; /* To make border-bottom apply only to text width */
        }

        .about-me-section .contact-info {
            font-weight: 600;
            color: #334155;
            font-size: 0.9rem; /* Smaller contact info text on mobile */
            display: flex; /* Use flex for spacing */
            flex-direction: column; /* Stack contact lines */
            gap: 0.5rem; /* Space between lines */
            width: 100%; /* Occupy full width for alignment */
            max-width: 250px; /* Constrain width of contact block */
        }
        @media (min-width: 768px) {
            .about-me-section .contact-info {
                font-size: 1rem; /* Restore PC size */
            }
        }
        .about-me-section .contact-info a {
            color: #6366f1;
            text-decoration: none;
        }
        .about-me-section .contact-info a:hover {
            text-decoration: underline;
        }

        /* Styles for the new App Idea Generator section */
        .app-idea-generator-section {
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            margin-top: 3rem;
            margin-bottom: 3rem; /* Add some space before the footer */
            text-align: center;
        }
        .app-idea-generator-section h2 {
            font-size: 2rem; /* text-3xl */
            font-weight: 800;
            color: #1e293b;
            margin-bottom: 1.5rem;
        }
        .app-idea-generator-section textarea {
            width: 100%;
            max-width: 600px;
            height: 120px;
            padding: 1rem;
            border: 2px solid #cbd5e1;
            border-radius: 0.75rem;
            margin-bottom: 1rem;
            font-size: 1rem;
            color: #334155;
            resize: vertical; /* Allow vertical resizing */
            transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            outline: none;
        }
        .app-idea-generator-section textarea:focus {
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.3);
        }
        .app-idea-generator-section .btn-generate {
            background-image: linear-gradient(to right, #6366f1, #8b5cf6);
            color: white;
            padding: 0.85rem 2.5rem; /* Slightly larger button */
            border-radius: 9999px;
            font-weight: 700;
            transition: all 0.2s ease-in-out;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            display: inline-flex; /* For aligning text and spinner */
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .app-idea-generator-section .btn-generate:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 8px -2px rgba(0, 0, 0, 0.1);
        }
        .app-idea-generator-section .btn-generate:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .app-idea-generator-section .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .app-idea-generator-section .output-area {
            background-color: #e2e8f0;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-top: 1.5rem;
            text-align: left;
            white-space: pre-wrap; /* Preserve whitespace and wrap text */
            font-size: 1rem;
            color: #334155;
            min-height: 80px; /* Ensure it's visible even when empty */
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.06);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        .app-idea-generator-section .output-area:empty::before {
            content: 'Your app ideas will appear here...';
            color: #94a3b8;
            font-style: italic;
        }
        .app-idea-generator-section .error-message {
            color: #dc2626; /* Red color for errors */
            margin-top: 1rem;
            font-weight: 600;
        }

    </style>
</head>
<body class="bg-gray-100">
    <!-- Navigation Bar -->
    <nav class="navbar">
        <a href="#home">Home</a>
        <a href="#apps-section">Apps</a>
        <a href="#about-me-section">About Me</a>
        <!-- You can add more links here -->
    </nav>

    <!-- Main Header Section -->
    <header class="header">
        <h1 id="home">WELCOME to SHADER7</h1>
        <p>
            Useful tools made for free by Nishikant. Whether you're a student, professional, or simply need quick tools, SHADER7.com offers practical solutions for all.
            <a href="https://www.instagram.com/nishix_vamp" target="_blank" rel="noopener noreferrer" class="instagram-link">Connect on Instagram!</a>
        </p>
    </header>

    <main class="container py-8 sm:py-12">
        <!-- Apps Section -->
        <section id="apps-section" class="mb-8 sm:mb-12">
            <h2 class="text-3xl sm:text-4xl font-extrabold text-center text-gray-900 mb-8">Free Apps for You</h2>
            <div id="apps-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8">
                <!-- App cards will be dynamically inserted here by JavaScript -->
            </div>
        </section>

        <!-- About Me Section -->
        <section id="about-me-section" class="about-me-section">
            <h2 class="text-3xl sm:text-4xl font-extrabold text-center text-gray-900 mb-8">About Nishikant Xalxo</h2>
            <img src="https://raw.githubusercontent.com/shaderindia/Image-for-profile/refs/heads/main/undefined%20-%20Imgur.jpeg" 
                 alt="Nishikant Xalxo Profile Picture" 
                 class="profile-picture">
            
            <p class="text-center px-4 sm:px-0">
                All apps are free. I am Nishikant Xalxo, a CNC Milling Operator with a passion for precision in both mechanical engineering and web development. I create practical web applications to simplify everyday tasks. Explore my collection!
            </p>
            
            <h3 class="contact-heading">CONTACTS</h3>
            <div class="contact-info">
                <p>Email: <a href="mailto:nxdecore@gmail.com">nxdecore@gmail.com</a></p>
                <p>Instagram: <a href="https://www.instagram.com/nishix_vamp" target="_blank" rel="noopener noreferrer">@nishix_vamp</a></p>
            </div>
        </section>

        <!-- New: App Idea Generator Section powered by Gemini API -->
        <section class="app-idea-generator-section">
            <h2 class="text-center">✨ Get New App Ideas!</h2>
            <p class="text-gray-600 mb-6">Describe a problem you face, and I'll suggest app ideas to solve it using AI.</p>
            <textarea id="problemInput" placeholder="E.g., 'I always forget to water my plants' or 'Managing shared expenses with friends is complicated'"></textarea>
            <button id="generateIdeaBtn" class="btn-generate">
                <span id="buttonText">✨ Generate Idea</span>
                <div id="loadingSpinner" class="loading-spinner hidden"></div>
            </button>
            <div id="ideaOutput" class="output-area"></div>
            <div id="errorMessage" class="error-message hidden"></div>
        </section>

    </main>

    <!-- Main Footer Section -->
    <footer class="footer">
        <div class="footer-links mb-2 flex flex-wrap justify-center">
            <a href="./privacy.html">Privacy Policy</a>
        </div>
        <p>&copy; 2024 Nishikant Xalxo - Free Apps for You. All rights reserved.</p>
        <p class="mt-2 text-sm">Built with <span class="text-red-500">&hearts;</span> and code.</p>
    </footer>

    <script>
        // Array to store your app details
        const apps = [
            {
                title: "FairShare Expenses",
                description: "Effortlessly calculate and settle monthly shared expenses among roommates or groups. Get clear payment instructions for who pays whom.",
                url: "./fairshare.html" 
            },
            {
                title: "Passport Photo Creator",
                description: "Effortlessly create and customize passport-sized photos for various documents. Adjust dimensions, crop, and arrange multiple copies on a single page for printing.",
                url: "./passportsizephoto.html" 
            },
            {
                title: "Monthly Salary Calculator for Romania", 
                description: "Calculate your net monthly salary after deductions. Quickly determine your take-home pay based on your gross income and various financial inputs.",
                url: "./romaniasalarycalculator.html" 
            },
            {
                title: "Resume Maker for Mechanical Engineers",
                description: "A specialized tool for Mechanical Engineers to effortlessly create professional and impactful resumes. Highlight your skills and experience for your dream job.",
                url: "./cvbanao.html" 
            }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            const appsGrid = document.getElementById('apps-grid');
            const navbar = document.querySelector('.navbar');
            const root = document.documentElement; // This is the :root element

            // Function to set scroll-padding-top based on navbar height
            function setScrollPadding() {
                const navbarHeight = navbar.offsetHeight;
                root.style.setProperty('--scroll-padding', `${navbarHeight + 10}px`); // Add a little extra for breathing room
            }

            // Set padding on initial load
            setScrollPadding();

            // Recalculate on window resize
            window.addEventListener('resize', setScrollPadding);


            // Loop through the apps array and create a card for each
            apps.forEach(app => {
                const appCard = document.createElement('div');
                appCard.classList.add('app-card', 'p-6', 'rounded-xl', 'shadow-lg', 'transform', 'hover:scale-105', 'transition-all', 'duration-300', 'ease-in-out', 'flex', 'flex-col');

                const appTitle = document.createElement('h2');
                appTitle.classList.add('text-2xl', 'font-bold', 'mb-3', 'text-gray-900');
                appTitle.textContent = app.title;

                const appDescription = document.createElement('p');
                appDescription.classList.add('text-gray-600', 'mb-6', 'flex-grow'); // flex-grow for uniform height
                appDescription.textContent = app.description;

                const accessButton = document.createElement('a');
                accessButton.href = app.url;
                // Removed target="_blank" and rel="noopener noreferrer" to make apps open in the same tab
                
                accessButton.classList.add('btn-access', 'px-8', 'py-3', 'rounded-full', 'font-semibold', 'text-lg', 'shadow-md', 'hover:shadow-xl');
                accessButton.textContent = "Access App";

                appCard.appendChild(appTitle);
                appCard.appendChild(appDescription);
                appCard.appendChild(accessButton);

                appsGrid.appendChild(appCard);
            });

            // Smooth scrolling for navigation links (Home, Apps, About Me)
            document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);

                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            // Gemini API Integration for App Idea Generator
            const problemInput = document.getElementById('problemInput');
            const generateIdeaBtn = document.getElementById('generateIdeaBtn');
            const ideaOutput = document.getElementById('ideaOutput');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const buttonText = document.getElementById('buttonText');
            const errorMessage = document.getElementById('errorMessage');

            generateIdeaBtn.addEventListener('click', async () => {
                const problem = problemInput.value.trim();
                if (!problem) {
                    errorMessage.textContent = "Please describe a problem to generate ideas.";
                    errorMessage.classList.remove('hidden');
                    ideaOutput.textContent = ''; // Clear previous output
                    return;
                }

                errorMessage.classList.add('hidden'); // Hide error message
                ideaOutput.textContent = ''; // Clear previous ideas
                loadingSpinner.classList.remove('hidden'); // Show spinner
                buttonText.textContent = "Generating..."; // Change button text
                generateIdeaBtn.disabled = true; // Disable button

                try {
                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: `Suggest 3 innovative and practical web app ideas based on the following problem: "${problem}". For each idea, provide a short name and a brief, compelling description (around 1-2 sentences). Format your response clearly with a heading for each idea.` }] });
                    const payload = { contents: chatHistory };
                    // IMPORTANT: Your Gemini API Key should be loaded from a separate, untracked file (e.g., api-config.js)
                    const apiKey = "AIzaSyAEdF6iJ_BlYmwS47p4f0tjNlDQXCbBREU"; 
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                    
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(`API error: ${response.status} ${response.statusText} - ${errorData.error.message}`);
                    }

                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        ideaOutput.textContent = text;
                    } else {
                        ideaOutput.textContent = "Could not generate ideas. Please try a different problem.";
                    }
                } catch (error) {
                    console.error("Error generating app ideas:", error);
                    errorMessage.textContent = `Failed to generate ideas: ${error.message}. Please try again later.`;
                    errorMessage.classList.remove('hidden');
                    ideaOutput.textContent = ''; // Clear output on error
                } finally {
                    loadingSpinner.classList.add('hidden'); // Hide spinner
                    buttonText.textContent = "✨ Generate Idea"; // Restore button text
                    generateIdeaBtn.disabled = false; // Re-enable button
                }
            });
        });
    </script>
</body>
</html>
